{"version":3,"sources":["11.29.js"],"names":[],"mappings":"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","file":"11.29-compiled.js","sourcesContent":["/**\r\n * Created by ouer on 2016/11/29.\r\n */\r\n(function($){\r\n    var Upload = {\r\n        init:function(){\r\n            var self = this;\r\n            self.J_refund_box = $('.J_refund_box');\r\n            self.J_pre_img_wrap = $('.J_pre_img_wrap');\r\n            self.J_pre_show_wrap = $('.J_pre_show_wrap');\r\n            self.J_c_num =self.J_pre_show_wrap.find('.J_c_num');\r\n            self.J_a_num =self.J_pre_show_wrap.find('.J_a_num');\r\n            self.J_fileToUpload = $('.fileToUpload');\r\n            self.J_s_img_wrap = $('.J_a_li_wrap');\r\n            self.Fileform = $('#fileform');\r\n            self.Uploadframe = $('#Uploadframe');\r\n            self.J_error_wrap = $('.J_error_wrap');\r\n            self.eventHanding();\r\n        },\r\n        eventHanding:function(){\r\n            var self = this;\r\n            self.J_refund_box.on('tap','.J_s_img',function(){\r\n                self.preBigImg($(this).attr('src'));\r\n            })\r\n            self.J_pre_img_wrap.on('tap',function(){\r\n                self.J_pre_show_wrap.css({display:'none'});\r\n            })\r\n            self.J_pre_show_wrap.on('tap','.J_del_pre_img',function(){\r\n                self.delPreImg();\r\n            })\r\n\r\n            self.J_refund_box.on('change','.fileToUpload',function(){\r\n                var _data = {\r\n                        url:'/image_uploadfy?from=other',\r\n                        tar:'Uploadframe'\r\n                    },\r\n                    maxSize = 5 * 1024 * 1204,\r\n                    file = this.files[0],\r\n                    reader = new FileReader();\r\n                //console.log(file);\r\n                reader.onload = function(){\r\n                    //console.log(this);\r\n                    var result = this.result;\r\n                    var img = new Image();\r\n                    img.src = result;\r\n                    if(result.length < maxSize){\r\n                        self.UploadFrameShow(_data);\r\n                    }\r\n                    else{\r\n                        var data = self.compressImg(img);\r\n                        //console.log(data);\r\n                        self.error_init('亲，图片太大了！');\r\n\r\n                    }\r\n                }\r\n                reader.readAsDataURL(file);\r\n            })\r\n            self.eventLR();\r\n        },\r\n        compressImg:function(img){\r\n            var canvas = document.createElement('canvas'),\r\n                ctx = canvas.getContext('2d');\r\n            canvas.width = img.width;\r\n            canvas.height = img.height;\r\n            var data = canvas.toDataURL('image/jpeg', 0.2); //data url的形式\r\n            return data;\r\n\r\n        },\r\n        UploadFrameShow:function(rs){\r\n            var self = this;\r\n            $('body').append('<iframe style=\"display:none;\" Id=\"'+rs.tar+'\" name=\"'+rs.tar+'\"></iframe>');\r\n            self.Fileform.attr('action',rs.url);\r\n            self.Fileform.attr('target',rs.tar);\r\n            self.Fileform.submit();\r\n\r\n            if(window.frames[rs.tar].document.getElementsByTagName('body')[0].innerHTML){\r\n                //console.log(1);\r\n            }\r\n            var FormTT = setInterval(function(){\r\n                if(!window.frames[rs.tar].document.getElementsByTagName('body')[0].innerHTML){\r\n                    return false;\r\n                }\r\n                else{\r\n                    var obj = eval('(' + window.frames[rs.tar].document.getElementsByTagName('body')[0].innerHTML + ')');\r\n                    self.fileWork(obj.imageUrl);\r\n                    $('.fileToUpload').val('');\r\n                    $('#'+rs.tar).remove();\r\n                    clearInterval(FormTT);\r\n                }\r\n            },100)\r\n\r\n        },\r\n        fileWork:function(_src){\r\n            var self = this;\r\n            var _html = '';\r\n            _html = '<li> ' +\r\n                '<div class=\"pic-s-wrap\"> ' +\r\n                '<img class=\"J_s_img\" src=\"'+_src+'\" alt=\"\"/> ' +\r\n                '</div> ' +\r\n                '</li>';\r\n            self.J_s_img_wrap.append(_html);\r\n            self.signChooseStatus();\r\n\r\n        },\r\n        signChooseStatus:function(){\r\n            var self = this;\r\n            $('.J_sign_choose').css({display:'none'});\r\n            if(self.J_s_img_wrap.find('li').length < 3){\r\n                $('.J_sign_choose').css({display:'block'});\r\n            }\r\n            if(self.J_s_img_wrap.find('li').length > 0){\r\n                $('.J_sign_choose').removeClass('no-margin-left');\r\n            }\r\n            if(self.J_s_img_wrap.find('li').length == 0){\r\n                $('.J_sign_choose').addClass('no-margin-left');\r\n            }\r\n        },\r\n        delPreImg:function(){\r\n            var self = this;\r\n            //console.log(self.J_a_num.html());\r\n            //console.log(self.J_c_num.html());\r\n            self.J_pre_Big_li = self.J_pre_img_wrap.find('li');\r\n            if(self.J_a_num.html() == 1){\r\n                self.J_s_img_wrap.find('li').eq(0).remove();\r\n                self.J_pre_show_wrap.css({display:'none'});\r\n                self.signChooseStatus();\r\n                return false;\r\n            }\r\n            if(self.J_c_num.html() < self.J_a_num.html()){\r\n                self.J_pre_Big_li.removeClass('current left-show left-hide right-show right-hide');\r\n                self.J_pre_Big_li.eq(self.J_c_num.html()-1).remove();\r\n                self.J_pre_Big_li.eq(self.J_c_num.html()).addClass('current');\r\n                self.J_s_img_wrap.find('li').eq(self.J_c_num.html()-1).remove();\r\n                self.J_a_num.html(self.J_a_num.html()-1);\r\n                self.J_c_num.html(self.J_c_num.html());\r\n                self.signChooseStatus();\r\n                return false;\r\n\r\n            }\r\n            if(self.J_a_num.html() == self.J_c_num.html()){\r\n                self.J_pre_Big_li.removeClass('current left-show left-hide right-show right-hide');\r\n                self.J_pre_Big_li.eq(self.J_c_num.html()-1).remove();\r\n                self.J_pre_Big_li.eq(0).addClass('current');\r\n                self.J_s_img_wrap.find('li').eq(self.J_c_num.html()-1).remove();\r\n                self.J_a_num.html(self.J_a_num.html()-1);\r\n                self.J_c_num.html(1);\r\n                self.signChooseStatus();\r\n                return false;\r\n\r\n            }\r\n        },\r\n        preBigImg:function(current){\r\n            var self = this;\r\n            var _cur_i,list_src =[];\r\n            self.J_s_img = self.J_refund_box.find('.J_s_img');\r\n            for(var i= 0,j=self.J_s_img.length;i<j;i++){\r\n                list_src.push(self.J_s_img.eq(i).attr('src'))\r\n                if(current == self.J_s_img.eq(i).attr('src')){\r\n                    _cur_i = i;\r\n                }\r\n            }\r\n            self.preBigImgShow(_cur_i,list_src);\r\n        },\r\n        preBigImgShow:function(_i,_list){\r\n            var self = this;\r\n            var _html = '';\r\n            for(var i =0;i<_list.length;i++){\r\n                _html +='' +\r\n                    '<li '+(_i==i? 'class=\"current\"':'')+'> ' +\r\n                    '<img src=\"'+_list[i]+'\" alt=\"\"/>' +\r\n                    ' </li>'\r\n            }\r\n            self.J_c_num.html(_i+1);\r\n            self.J_a_num.html(_list.length);\r\n            self.J_pre_img_wrap.empty().append(_html);\r\n            self.J_pre_show_wrap.css({display:'block'});\r\n\r\n        },\r\n        preBigImgLeft:function(){\r\n            var self = this;\r\n            self.J_pre_Big_li = self.J_pre_img_wrap.find('li');\r\n            var _eq = self.getCurrentStyle(self.J_pre_Big_li,'current');\r\n            if(_eq == 0){\r\n                return false;\r\n            }\r\n            self.J_pre_Big_li.removeClass('current left-show left-hide right-show right-hide');\r\n            self.J_pre_Big_li.eq(_eq).addClass('right-hide');\r\n            self.J_pre_Big_li.eq(_eq-1).addClass('right-show current');\r\n            self.picNumInit(_eq,self.J_pre_Big_li.length);\r\n        },\r\n        preBigImgRight:function(){\r\n            var self = this;\r\n            self.J_pre_Big_li = self.J_pre_img_wrap.find('li');\r\n            var _eq = self.getCurrentStyle(self.J_pre_Big_li,'current');\r\n            if(_eq == self.J_pre_Big_li.length-1){\r\n                return false;\r\n            }\r\n            self.J_pre_Big_li.removeClass('current left-show left-hide right-show right-hide');\r\n            self.J_pre_Big_li.eq(_eq).addClass('left-hide');\r\n            self.J_pre_Big_li.eq(_eq+1).addClass('left-show current');\r\n            self.picNumInit(_eq+2,self.J_pre_Big_li.length);\r\n\r\n        },\r\n        eventLR:function(){\r\n            var self = this;\r\n            var start_X;\r\n            var end_X;\r\n            var start_Y;\r\n            var end_Y;\r\n            mousedown = false;\r\n\r\n            function eventDown(e){\r\n                e.preventDefault();\r\n                mousedown = true;\r\n                if(e.changedTouches){\r\n                    e = e.changedTouches[e.changedTouches.length-1];\r\n                }\r\n                start_X = e.pageX;\r\n                end_X = e.pageX;\r\n                start_Y = e.pageY;\r\n                end_Y = e.pageY;\r\n            }\r\n            function eventUp(e){\r\n                e.preventDefault();\r\n                if(end_X - start_X > 100){\r\n                    self.preBigImgLeft();\r\n                }\r\n                if(start_X - end_X > 100){\r\n                    self.preBigImgRight();\r\n                }\r\n                if((end_X - start_X)*(-1) < 150){\r\n                    if(end_Y > start_Y){\r\n                        //self.scrollTop($(window).scrollTop()+start_Y - end_Y,200);\r\n                        //$(window).scrollTop($(window).scrollTop()+start_Y - end_Y);\r\n                    }\r\n                    if(end_Y < start_Y){\r\n                        //$(window).scrollTop($(window).scrollTop()+start_Y - end_Y);\r\n                        //self.scrollTop($(window).scrollTop()+start_Y - end_Y,200);\r\n                    }\r\n                }\r\n\r\n                mousedown = false;\r\n\r\n\r\n            }\r\n            function eventMove(e){\r\n                e.preventDefault();\r\n                if(mousedown) {\r\n                    if(e.changedTouches){\r\n                        e = e.changedTouches[e.changedTouches.length-1];\r\n                    }\r\n                    end_X = e.pageX;\r\n                    end_Y = e.pageY;\r\n                    if(end_Y > start_Y){\r\n                        //self.scrollTop($(window).scrollTop()+start_Y - end_Y,200);\r\n                        //$(window).scrollTop($(window).scrollTop()+start_Y - end_Y);\r\n                    }\r\n                    if(end_Y < start_Y){\r\n                        //$(window).scrollTop($(window).scrollTop()+start_Y - end_Y);\r\n                        //self.scrollTop($(window).scrollTop()+start_Y - end_Y,200);\r\n                    }\r\n                }\r\n            }\r\n\r\n            var wrap = document.getElementsByClassName('J_pre_img_wrap')[0];\r\n            wrap.addEventListener('touchstart', eventDown);\r\n            wrap.addEventListener('touchend', eventUp);\r\n            wrap.addEventListener('touchmove', eventMove);\r\n        },\r\n        error_init:function(_msg){\r\n            var self = this;\r\n            self.J_error_wrap.html(_msg).css({display:'block'});\r\n            var timeout = setInterval(function(){\r\n                self.J_error_wrap.html('').css({display:'none'});\r\n                clearInterval(timeout);\r\n            },1500);\r\n        },\r\n        picNumInit:function(c_num,a_num){\r\n            var self = this;\r\n            //console.log(c_num)\r\n            self.J_c_num.html(c_num);\r\n            self.J_a_num.html(a_num);\r\n\r\n        },\r\n        getCurrentStyle:function(ele,_style){\r\n            var self = this;\r\n            var _eq = -1;\r\n            $.each(ele,function(index,item){\r\n                if(ele.eq(index).hasClass(_style)){\r\n                    _eq = index;\r\n                }\r\n            })\r\n            return _eq;\r\n        },\r\n    }\r\n    $(function(){\r\n        Upload.init();\r\n    })\r\n})(Zepto)"]}